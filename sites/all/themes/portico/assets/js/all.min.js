function loadAsset(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.setAttribute("src",e),"undefined"!=typeof n&&document.getElementsByTagName("head")[0].appendChild(n)}var porticoConfig={test:!1},themePath="/sites/all/themes/portico",assetPath="/sites/all/themes/portico/assets/js/vendor";!function(e,t,n,o){"use strict";function s(){var o=200,s=e(t).width()>720;if(s){var i=e(".menu-name-main-menu").clone().addClass("sticky");e("body").append(i),e(t).on("scroll",function(){var t=e(n).scrollTop();t-o>=0?i.addClass("down"):i.removeClass("down")})}}function i(){if(!e(".jump-list").find("li").length)return!0;var n=!0;e(".jump-list").children("li").first().addClass("selected"),e(".jump-list").on("click","a",function(t){t.preventDefault(),n=!1,e(t.target).parent("li").addClass("selected").siblings().removeClass("selected");var o,s=e(t.target).parent().index(),i=e(".node-page .content").children().eq(s);o=0===s?i.offset().top-100:i.offset().top-60,e("body, html").animate({scrollTop:o},{complete:function(){setTimeout(function(){n=!0},100)}},400)});var o=!1,s=[];e("article.node-portico-now").each(function(t,n){s.push(Math.round(e(n).offset().top))}),e(t).on("scroll",function(){e("#main").offset().top-e(t).scrollTop()-40<0&&!o&&(e("#sidebar-first .item-list").addClass("fixed"),o=!0),e("#main").offset().top-e(t).scrollTop()-40>0&&o&&(e("#sidebar-first .item-list").removeClass("fixed"),o=!1),n&&s.map(function(n,o,s){e(t).scrollTop()>=n&&this.children(":eq("+o+")").addClass("selected").siblings().removeClass("selected")},e("#sidebar-first .item-list").find("ul").first())})}e(n).ready(function(){loadAsset(themePath+"/bower_components/slideout.js/dist/slideout.js",a),s(),e(".sermon-body-toggle").length&&e(".sermon-body-toggle").on("click touchstart",function(t){if(t.preventDefault(),e(this).hasClass("open"))e(this).removeClass("open").siblings(".sermon-body").height("");else{var n=e(this).siblings(".sermon-body").children(".field-body").height();e(this).addClass("open").siblings(".sermon-body").height(n)}}),e(".filter-bar").length&&e(".filter-bar").on("click touchstart",function(t){if(t.preventDefault(),e(this).hasClass("open"))e(this).removeClass("open").siblings(".blog-facets-wrapper").height("");else{var n=e(this).siblings(".blog-facets-wrapper").children(".blog-facets").height();e(this).addClass("open").siblings(".blog-facets-wrapper").height(n)}}),e("iframe").length&&loadAsset(themePath+"/bower_components/jquery.fitvids/jquery.fitvids.js",function(){e("#page-wrapper").fitVids()}),i()});var a=function(){var t=e("#block-menu-block-main-menu").find(".menu-block-wrapper > ul"),o=t.clone();o.attr("id","mobile-menu"),porticoConfig.menu=new Slideout({panel:n.getElementById("page-wrapper"),menu:n.getElementById("off-screen-nav"),padding:256,tolerance:70,side:"right",duration:200}),o.appendTo("#off-screen-nav"),porticoConfig.menu.on("beforeopen",function(){e("#off-screen-bounds").addClass("open")}).on("beforeclose",function(){e("#off-screen-bounds").removeClass("open")});var s=n.createElement("div");s.setAttribute("id","off-screen-bounds"),n.getElementsByTagName("body")[0].appendChild(s),e("#off-screen-bounds").on("click touchstart",function(e){porticoConfig.menu.close()}),e("#trigger-menu").on("click",function(e){e.preventDefault(),porticoConfig.menu.open()})}}(jQuery,window,document);